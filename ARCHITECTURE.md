# Brens Protocol Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Brens Protocol Ecosystem                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                â”‚             â”‚             â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚  TPT Foundry â”‚ â”‚ Dark Pool  â”‚ â”‚ Compliance â”‚
        â”‚  (Launchpad) â”‚ â”‚  (Trading) â”‚ â”‚  (ViewKey) â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                â”‚
                â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        Smart Contracts Layer                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚  â”‚  TPTFactory    â”‚          â”‚     FHERC20      â”‚               â”‚
â”‚  â”‚   (CREATE2)    â”‚â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶â”‚   (TPT Token)    â”‚               â”‚
â”‚  â”‚                â”‚  deploys  â”‚                  â”‚               â”‚
â”‚  â”‚  â€¢ Registry    â”‚          â”‚  â€¢ Encrypted     â”‚               â”‚
â”‚  â”‚  â€¢ Metadata    â”‚          â”‚    Balances      â”‚               â”‚
â”‚  â”‚  â€¢ Fees        â”‚          â”‚  â€¢ Zero-Replace  â”‚               â”‚
â”‚  â”‚  â€¢ Verify      â”‚          â”‚  â€¢ View Keys     â”‚               â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                              â”‚
                              â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Fhenix Infrastructure                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚  â”‚ FHE Library â”‚    â”‚   CoFHE      â”‚    â”‚  Threshold   â”‚       â”‚
â”‚  â”‚             â”‚    â”‚  Coprocessor â”‚    â”‚   Network    â”‚       â”‚
â”‚  â”‚ â€¢ euint128  â”‚    â”‚              â”‚    â”‚              â”‚       â”‚
â”‚  â”‚ â€¢ encrypt   â”‚    â”‚ â€¢ add        â”‚    â”‚ â€¢ decrypt    â”‚       â”‚
â”‚  â”‚ â€¢ decrypt   â”‚    â”‚ â€¢ sub        â”‚    â”‚ â€¢ reseal     â”‚       â”‚
â”‚  â”‚ â€¢ seal      â”‚    â”‚ â€¢ mul        â”‚    â”‚              â”‚       â”‚
â”‚  â”‚             â”‚    â”‚ â€¢ select     â”‚    â”‚              â”‚       â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â”‚                                                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow: Creating & Using a TPT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Creator   â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1. createTPT(name, symbol, supply, salt)
       â”‚    + 0.01 ETH fee
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   TPTFactory     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ â€¢ Validate       â”‚
â”‚ â€¢ Compute addr   â”‚
â”‚ â€¢ Deploy CREATE2 â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”€ bytecode + salt
â”‚ â€¢ Register       â”‚
â”‚ â€¢ Emit event     â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 2. FHERC20 deployed
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   FHERC20        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ balances[addr]   â”‚â—„â”€â”€â”€â”€â”€â”€ euint128 (encrypted)
â”‚ _allowances      â”‚â—„â”€â”€â”€â”€â”€â”€ euint128 (encrypted)
â”‚ totalSupply      â”‚â—„â”€â”€â”€â”€â”€â”€ euint128 (encrypted)
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”‚ 3. User operations
       â”‚
       â”œâ”€â”€â”€â”€â–º transferEncrypted(to, amount)
       â”‚      â€¢ FHE.select() for zero-replace
       â”‚      â€¢ Update encrypted balances
       â”‚
       â”œâ”€â”€â”€â”€â–º approveEncrypted(spender, amount)
       â”‚      â€¢ Set encrypted allowance
       â”‚
       â””â”€â”€â”€â”€â–º grantViewKey(auditor)
              â€¢ Enable compliance viewing
```

## FHERC20 Transfer Flow

```
User initiates: transferEncrypted(recipient, encAmount)
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 1. Decrypt input (handled by Fhenix)    â”‚
â”‚    inEuint128 â†’ euint128                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 2. Check balance (FHE operation)         â”‚
â”‚    hasSufficient = amount.lte(balance)   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 3. Zero-replacement logic                â”‚
â”‚    amountToSend = FHE.select(            â”‚
â”‚        hasSufficient,                     â”‚
â”‚        amount,        // if true          â”‚
â”‚        0             // if false          â”‚
â”‚    )                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 4. Update balances (encrypted)           â”‚
â”‚    sender.balance -= amountToSend        â”‚
â”‚    recipient.balance += amountToSend     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
               â”‚
               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ 5. Emit event (no amounts revealed)      â”‚
â”‚    emit Transfer(sender, recipient)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Note: Transaction ALWAYS succeeds - never reverts due to insufficient balance
```

## Factory Registry Structure

```
TPTFactory
â”œâ”€â”€ Registry Mapping
â”‚   â””â”€â”€ address â†’ TPTMetadata
â”‚       â”œâ”€â”€ tokenAddress
â”‚       â”œâ”€â”€ creator
â”‚       â”œâ”€â”€ name
â”‚       â”œâ”€â”€ symbol
â”‚       â”œâ”€â”€ initialSupply
â”‚       â”œâ”€â”€ createdAt
â”‚       â””â”€â”€ isVerified
â”‚
â”œâ”€â”€ All TPTs Array
â”‚   â””â”€â”€ [tpt1, tpt2, tpt3, ...]
â”‚
â””â”€â”€ Creator Mapping
    â””â”€â”€ creator â†’ [tpt1, tpt2, ...]
```

## Privacy Guarantees

```
PUBLIC (Visible on-chain)
â”œâ”€â”€ Token exists at address X
â”œâ”€â”€ Transfer occurred between A â†’ B
â”œâ”€â”€ Approval granted from owner to spender
â”œâ”€â”€ Total token supply EXISTS (encrypted)
â””â”€â”€ Transaction succeeded/failed

PRIVATE (Hidden via FHE)
â”œâ”€â”€ Account balances
â”œâ”€â”€ Transfer amounts
â”œâ”€â”€ Allowance amounts
â”œâ”€â”€ Actual supply value
â””â”€â”€ Whether user has "enough" tokens

CONDITIONALLY VISIBLE (View Keys)
â””â”€â”€ Authorized viewers can decrypt:
    â”œâ”€â”€ Specific user balances
    â””â”€â”€ Transaction amounts (with permission)
```

## Security Model

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          Threat Model                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                           â”‚
â”‚ âœ… PROTECTED AGAINST:                    â”‚
â”‚   â€¢ Balance snooping                     â”‚
â”‚   â€¢ Transaction amount analysis          â”‚
â”‚   â€¢ Front-running (MEV)                  â”‚
â”‚   â€¢ Whale watching                       â”‚
â”‚   â€¢ Competitive intelligence gathering   â”‚
â”‚                                           â”‚
â”‚ âš ï¸  NOT PROTECTED AGAINST:               â”‚
â”‚   â€¢ Transaction graph analysis           â”‚
â”‚     (who sent to whom is public)         â”‚
â”‚   â€¢ Timing attacks                       â”‚
â”‚   â€¢ Smart contract vulnerabilities       â”‚
â”‚                                           â”‚
â”‚ ğŸ” BASED ON:                             â”‚
â”‚   â€¢ LWE (Learning With Errors)           â”‚
â”‚   â€¢ FHE cryptographic assumptions        â”‚
â”‚   â€¢ Fhenix threshold network             â”‚
â”‚                                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Comparison: Public Token vs TPT

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Property     â”‚  Public Token   â”‚       TPT       â”‚
â”‚                 â”‚    (ERC20)      â”‚    (FHERC20)    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Balance visible â”‚       âœ…        â”‚       âŒ        â”‚
â”‚ Amount visible  â”‚       âœ…        â”‚       âŒ        â”‚
â”‚ Transfer exists â”‚       âœ…        â”‚       âœ…        â”‚
â”‚ MEV vulnerable  â”‚       âœ…        â”‚       âŒ        â”‚
â”‚ Compliance      â”‚       âœ…        â”‚    âœ… (keys)    â”‚
â”‚ Gas cost        â”‚      Low        â”‚     Higher      â”‚
â”‚ Privacy         â”‚      None       â”‚     Strong      â”‚
â”‚ Programmable    â”‚       âœ…        â”‚       âœ…        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Current Implementation           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ âœ… FHERC20 token standard               â”‚
â”‚ âœ… TPTFactory with CREATE2              â”‚
â”‚ âœ… View key compliance system           â”‚
â”‚ âœ… Deployment scripts                   â”‚
â”‚ âœ… Test suite                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        Next Phase: Dark Pool              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ ğŸ”„ Uniswap v4 custom hooks               â”‚
â”‚ ğŸ”„ Encrypted AMM (x*y=k on ciphertexts)  â”‚
â”‚ ğŸ”„ Shielded pairs (auto-wrap)            â”‚
â”‚ ğŸ”„ Encrypted limit orders                â”‚
â”‚ ğŸ”„ Private liquidity pools               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## File Organization

```
brens-protocol/
â”‚
â”œâ”€â”€ src/                          # Smart Contracts
â”‚   â”œâ”€â”€ FHERC20.sol              # TPT implementation (222 lines)
â”‚   â”œâ”€â”€ TPTFactory.sol           # CREATE2 factory (284 lines)
â”‚   â””â”€â”€ IFHERC20.sol             # Standard interface (37 lines)
â”‚
â”œâ”€â”€ script/                       # Deployment Scripts
â”‚   â””â”€â”€ DeployTPTFactory.s.sol   # Factory + sample TPT (138 lines)
â”‚
â”œâ”€â”€ test/                         # Test Suite
â”‚   â””â”€â”€ TPTFactory.t.sol         # Comprehensive tests (387 lines)
â”‚
â”œâ”€â”€ lib/                          # Dependencies
â”‚   â”œâ”€â”€ forge-std/               # Foundry testing
â”‚   â”œâ”€â”€ fhenix-contracts/        # FHE operations
â”‚   â””â”€â”€ v4-periphery/            # Uniswap v4 (future)
â”‚
â””â”€â”€ docs/                         # Documentation
    â”œâ”€â”€ README.md                # Main documentation
    â”œâ”€â”€ QUICKSTART.md            # Quick start guide
    â”œâ”€â”€ IMPLEMENTATION.md        # Implementation details
    â””â”€â”€ ARCHITECTURE.md          # This file
```
